# =================================================================
# DB Sync Service 環境變數配置範本
# =================================================================

# ---------------------------------------------------------------
# 🚀 部署情境說明
# ---------------------------------------------------------------

# 【情境 A: Zeabur 雲端部署】- 推薦用於測試站自動同步
# SYNC_TARGETS=test
# TARGET_TEST_URL=postgresql://test_user:test_password@test-host:5432/test_db
#
# ⚠️ 注意：Zeabur 部署時無法連接 localhost（本機）
#    不要設定 TARGET_LOCAL_URL，否則會連線失敗

# 【情境 B: 本機執行】- 推薦用於本地開發
# SYNC_TARGETS=local
# TARGET_LOCAL_URL=postgresql://anes_user:anes_password@localhost:5432/anes_db
#
# 💡 提示：本機執行時手動運行 python main.py
#    需要時才同步，不需要持續運行

# ---------------------------------------------------------------
# 資料庫連線 (必須)
# ---------------------------------------------------------------

# 來源資料庫（正式環境 Zeabur）
SOURCE_DB_URL=postgresql://root:YOUR_PASSWORD@hnd1.clusters.zeabur.com:32221/zeabur

# 目標資料庫 - 本地環境（僅本機執行時使用）
TARGET_LOCAL_URL=postgresql://anes_user:anes_password@localhost:5432/anes_db

# 目標資料庫 - 測試站（Zeabur 部署時使用）
TARGET_TEST_URL=postgresql://test_user:test_password@test-host:5432/test_db

# ---------------------------------------------------------------
# 同步設定 (必須)
# ---------------------------------------------------------------

# 要啟用的同步目標（逗號分隔: local, test）
# Zeabur 部署：建議設為 test
# 本機執行：建議設為 local
SYNC_TARGETS=local

# 同步間隔（分鐘）
SYNC_INTERVAL_MINUTES=10

# ---------------------------------------------------------------
# 進階設定 (可選)
# ---------------------------------------------------------------

# 日誌級別（DEBUG, INFO, WARNING, ERROR）
LOG_LEVEL=INFO

# 啟用健康檢查端點
ENABLE_HEALTH_CHECK=false

# 健康檢查端口（如啟用）
HEALTH_CHECK_PORT=8080

# 批次大小
BATCH_SIZE=1000

# 最大重試次數
MAX_RETRY_ATTEMPTS=3

# 重試延遲（秒）
RETRY_DELAY_SECONDS=60
